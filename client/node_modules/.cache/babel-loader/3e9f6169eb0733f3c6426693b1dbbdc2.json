{"ast":null,"code":"import _objectSpread from \"D:\\\\GitHub\\\\ML4GIS\\\\client\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport useEventCallback from \"use-event-callback\";\nimport { getEnclosingBox } from \"./regionTools.js\";\nexport default (({\n  layoutParams,\n  mat\n}) => {\n  return useEventCallback(r => {\n    const _layoutParams$current = layoutParams.current,\n          iw = _layoutParams$current.iw,\n          ih = _layoutParams$current.ih;\n    const bbox = getEnclosingBox(r);\n    const margin = r.type === \"point\" ? 15 : 2;\n    const cbox = {\n      x: bbox.x * iw - margin,\n      y: bbox.y * ih - margin,\n      w: bbox.w * iw + margin * 2,\n      h: bbox.h * ih + margin * 2\n    };\n\n    const pbox = _objectSpread(_objectSpread({}, mat.clone().inverse().applyToPoint(cbox.x, cbox.y)), {}, {\n      w: cbox.w / mat.a,\n      h: cbox.h / mat.d\n    });\n\n    return pbox;\n  });\n});","map":{"version":3,"sources":["D:/GitHub/ML4GIS/client/src/pages/Home/annotateComponents/ImageCanvas/useProjectBox.js"],"names":["useEventCallback","getEnclosingBox","layoutParams","mat","r","current","iw","ih","bbox","margin","type","cbox","x","y","w","h","pbox","clone","inverse","applyToPoint","a","d"],"mappings":";AAAA,OAAOA,gBAAP,MAA6B,oBAA7B;AACA,SAASC,eAAT,QAAgC,kBAAhC;AAEA,gBAAe,CAAC;AAAEC,EAAAA,YAAF;AAAgBC,EAAAA;AAAhB,CAAD,KAA2B;AACxC,SAAOH,gBAAgB,CAAEI,CAAD,IAAO;AAAA,kCACVF,YAAY,CAACG,OADH;AAAA,UACrBC,EADqB,yBACrBA,EADqB;AAAA,UACjBC,EADiB,yBACjBA,EADiB;AAE7B,UAAMC,IAAI,GAAGP,eAAe,CAACG,CAAD,CAA5B;AACA,UAAMK,MAAM,GAAGL,CAAC,CAACM,IAAF,KAAW,OAAX,GAAqB,EAArB,GAA0B,CAAzC;AACA,UAAMC,IAAI,GAAG;AACXC,MAAAA,CAAC,EAAEJ,IAAI,CAACI,CAAL,GAASN,EAAT,GAAcG,MADN;AAEXI,MAAAA,CAAC,EAAEL,IAAI,CAACK,CAAL,GAASN,EAAT,GAAcE,MAFN;AAGXK,MAAAA,CAAC,EAAEN,IAAI,CAACM,CAAL,GAASR,EAAT,GAAcG,MAAM,GAAG,CAHf;AAIXM,MAAAA,CAAC,EAAEP,IAAI,CAACO,CAAL,GAASR,EAAT,GAAcE,MAAM,GAAG;AAJf,KAAb;;AAMA,UAAMO,IAAI,mCACLb,GAAG,CAACc,KAAJ,GAAYC,OAAZ,GAAsBC,YAAtB,CAAmCR,IAAI,CAACC,CAAxC,EAA2CD,IAAI,CAACE,CAAhD,CADK;AAERC,MAAAA,CAAC,EAAEH,IAAI,CAACG,CAAL,GAASX,GAAG,CAACiB,CAFR;AAGRL,MAAAA,CAAC,EAAEJ,IAAI,CAACI,CAAL,GAASZ,GAAG,CAACkB;AAHR,MAAV;;AAKA,WAAOL,IAAP;AACD,GAhBsB,CAAvB;AAiBD,CAlBD","sourcesContent":["import useEventCallback from \"use-event-callback\"\r\nimport { getEnclosingBox } from \"./regionTools.js\"\r\n\r\nexport default ({ layoutParams, mat }) => {\r\n  return useEventCallback((r) => {\r\n    const { iw, ih } = layoutParams.current\r\n    const bbox = getEnclosingBox(r)\r\n    const margin = r.type === \"point\" ? 15 : 2\r\n    const cbox = {\r\n      x: bbox.x * iw - margin,\r\n      y: bbox.y * ih - margin,\r\n      w: bbox.w * iw + margin * 2,\r\n      h: bbox.h * ih + margin * 2,\r\n    }\r\n    const pbox = {\r\n      ...mat.clone().inverse().applyToPoint(cbox.x, cbox.y),\r\n      w: cbox.w / mat.a,\r\n      h: cbox.h / mat.d,\r\n    }\r\n    return pbox\r\n  })\r\n}\r\n"]},"metadata":{},"sourceType":"module"}