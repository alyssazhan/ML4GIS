{"ast":null,"code":"","map":{"version":3,"sources":[],"names":[],"mappings":"","sourcesContent":["\nimport type {\n  Region,\n  Polygon,\n  Polygon1,\n  Rectangle,\n  Point,\n} from \"../ImageCanvas/regionTools.js\"\n\nexport type ToolEnum =\n  | \"pan\"\n  | \"zoom\"\n  | \"create-point\"\n  | \"create-box\"\n  | \"create-polygon\"\n| \"create-polygon1\"\n\nexport type Image = {\n  src: string,\n  thumbnailSrc?: string,\n  name: string,\n  regions?: Array<Region>,\n  pixelSize?: { w: number, h: number },\n  realSize?: { w: number, h: number, unitName: string },\n}\n\nexport type Mode =\n  | null\n  | {| mode: \"DRAW_POLYGON\", regionId: string |}\n  | {| mode: \"MOVE_POLYGON_POINT\", regionId: string, pointIndex: number |}\n| {| mode: \"DRAW_POLYGON1\", regionId: string |}\n| {| mode: \"MOVE_POLYGON1_POINT\", regionId: string, pointIndex: number |}\n  | {|\n      mode: \"RESIZE_BOX\",\n      regionId: string,\n      freedom: [number, number],\n      original: { x: number, y: number, w: number, h: number },\n      isNew?: boolean,\n    |}\n  | {| mode: \"MOVE_REGION\" |}\n\nexport type MainLayoutStateBase = {|\n  mouseDownAt?: ?{ x: number, y: number },\n  minRegionSize?: number,\n  selectedTool: ToolEnum,\n  mode: Mode,\n  regionTagList?: Array<string>,\n  enabledTools: Array<string>,\n  history: Array<{ time: Date, state: MainLayoutState, name: string }>,\n|}\n\nexport type MainLayoutState = {|\n  ...MainLayoutStateBase,\n  annotationType: \"image\",\n  selectedImage?: string,\n  images: Array<Image>,\n|}\n\nexport type Action =\n  | {| type: \"@@INIT\" |}\n  | {| type: \"SELECT_IMAGE\", image: Image, imageIndex: number |}\n  | {|\n      type: \"IMAGE_LOADED\",\n      metadata: {\n        naturalWidth: number,\n        naturalHeight: number,\n        // duration?: number,\n      },\n    |}\n  | {| type: \"CHANGE_REGION\", region: Region |}\n  | {| type: \"RESTORE_HISTORY\" |}\n  | {| type: \"CLOSE_POLYGON\", polygon: Polygon |}\n| {| type: \"CLOSE_POLYGON1\", polygon1: Polygon1 |}\n  | {| type: \"SELECT_REGION\", region: Region |}\n  | {| type: \"BEGIN_MOVE_POINT\", point: Point |}\n  | {| type: \"BEGIN_BOX_TRANSFORM\", rectangle: Rectangle, directions: [number, number] |}\n  | {| type: \"BEGIN_MOVE_POLYGON_POINT\", polygon: Polygon, pointIndex: number |}\n| {| type: \"BEGIN_MOVE_POLYGON1_POINT\", polygon1: Polygon1, point1Index: number |}\n  | {|\n      type: \"ADD_POLYGON_POINT\",\n      polygon: Polygon,\n      point: { x: number, y: number },\n      pointIndex: number,\n    |}\n| {|\n  type: \"ADD_POLYGON1_POINT\",\n      polygon1: Polygon1,\n      point: { x: number, y: number },\n  point1Index: number,\n|}\n  | {| type: \"MOUSE_MOVE\", x: number, y: number |}\n  | {| type: \"MOUSE_DOWN\", x: number, y: number |}\n  | {| type: \"MOUSE_UP\", x: number, y: number |}\n  | {| type: \"CHANGE_REGION\", region: Region |}\n  | {| type: \"OPEN_REGION_EDITOR\", region: Region |}\n  | {| type: \"CLOSE_REGION_EDITOR\", region: Region |}\n  | {| type: \"DELETE_REGION\", region: Region |}\n  | {| type: \"DELETE_SELECTED_REGION\" |}\n  | {| type: \"HEADER_BUTTON_CLICKED\", buttonName: string |}\n  | {| type: \"SELECT_TOOL\", selectedTool: ToolEnum |}\n  | {| type: \"CANCEL\" |}\n"]},"metadata":{},"sourceType":"module"}