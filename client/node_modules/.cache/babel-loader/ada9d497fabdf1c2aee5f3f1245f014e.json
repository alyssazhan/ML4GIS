{"ast":null,"code":"/* eslint-disable */\nimport { useEffect, useState } from 'react';\nimport { off, on } from './util';\n\nvar noop = function noop() {};\n\nvar usePermission = function usePermission(permissionDesc) {\n  var mounted = true;\n  var permissionStatus = null;\n\n  var _a = useState(''),\n      state = _a[0],\n      setState = _a[1];\n\n  var onChange = function onChange() {\n    if (mounted && permissionStatus) {\n      setState(permissionStatus.state);\n    }\n  };\n\n  var changeState = function changeState() {\n    onChange();\n    on(permissionStatus, 'change', onChange);\n  };\n\n  useEffect(function () {\n    navigator.permissions.query(permissionDesc).then(function (status) {\n      permissionStatus = status;\n      changeState();\n    }).catch(noop);\n    return function () {\n      mounted = false;\n      permissionStatus && off(permissionStatus, 'change', onChange);\n    };\n  }, []);\n  return state;\n};\n\nexport default usePermission;","map":{"version":3,"sources":["D:/GitHub/ML4GIS/client/node_modules/react-use/esm/usePermission.js"],"names":["useEffect","useState","off","on","noop","usePermission","permissionDesc","mounted","permissionStatus","_a","state","setState","onChange","changeState","navigator","permissions","query","then","status","catch"],"mappings":"AAAA;AACA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,GAAT,EAAcC,EAAd,QAAwB,QAAxB;;AACA,IAAIC,IAAI,GAAG,SAAPA,IAAO,GAAY,CAAG,CAA1B;;AACA,IAAIC,aAAa,GAAG,SAAhBA,aAAgB,CAAUC,cAAV,EAA0B;AAC1C,MAAIC,OAAO,GAAG,IAAd;AACA,MAAIC,gBAAgB,GAAG,IAAvB;;AACA,MAAIC,EAAE,GAAGR,QAAQ,CAAC,EAAD,CAAjB;AAAA,MAAuBS,KAAK,GAAGD,EAAE,CAAC,CAAD,CAAjC;AAAA,MAAsCE,QAAQ,GAAGF,EAAE,CAAC,CAAD,CAAnD;;AACA,MAAIG,QAAQ,GAAG,SAAXA,QAAW,GAAY;AACvB,QAAIL,OAAO,IAAIC,gBAAf,EAAiC;AAC7BG,MAAAA,QAAQ,CAACH,gBAAgB,CAACE,KAAlB,CAAR;AACH;AACJ,GAJD;;AAKA,MAAIG,WAAW,GAAG,SAAdA,WAAc,GAAY;AAC1BD,IAAAA,QAAQ;AACRT,IAAAA,EAAE,CAACK,gBAAD,EAAmB,QAAnB,EAA6BI,QAA7B,CAAF;AACH,GAHD;;AAIAZ,EAAAA,SAAS,CAAC,YAAY;AAClBc,IAAAA,SAAS,CAACC,WAAV,CACKC,KADL,CACWV,cADX,EAEKW,IAFL,CAEU,UAAUC,MAAV,EAAkB;AACxBV,MAAAA,gBAAgB,GAAGU,MAAnB;AACAL,MAAAA,WAAW;AACd,KALD,EAMKM,KANL,CAMWf,IANX;AAOA,WAAO,YAAY;AACfG,MAAAA,OAAO,GAAG,KAAV;AACAC,MAAAA,gBAAgB,IAAIN,GAAG,CAACM,gBAAD,EAAmB,QAAnB,EAA6BI,QAA7B,CAAvB;AACH,KAHD;AAIH,GAZQ,EAYN,EAZM,CAAT;AAaA,SAAOF,KAAP;AACH,CA3BD;;AA4BA,eAAeL,aAAf","sourcesContent":["/* eslint-disable */\r\nimport { useEffect, useState } from 'react';\r\nimport { off, on } from './util';\r\nvar noop = function () { };\r\nvar usePermission = function (permissionDesc) {\r\n    var mounted = true;\r\n    var permissionStatus = null;\r\n    var _a = useState(''), state = _a[0], setState = _a[1];\r\n    var onChange = function () {\r\n        if (mounted && permissionStatus) {\r\n            setState(permissionStatus.state);\r\n        }\r\n    };\r\n    var changeState = function () {\r\n        onChange();\r\n        on(permissionStatus, 'change', onChange);\r\n    };\r\n    useEffect(function () {\r\n        navigator.permissions\r\n            .query(permissionDesc)\r\n            .then(function (status) {\r\n            permissionStatus = status;\r\n            changeState();\r\n        })\r\n            .catch(noop);\r\n        return function () {\r\n            mounted = false;\r\n            permissionStatus && off(permissionStatus, 'change', onChange);\r\n        };\r\n    }, []);\r\n    return state;\r\n};\r\nexport default usePermission;\r\n"]},"metadata":{},"sourceType":"module"}