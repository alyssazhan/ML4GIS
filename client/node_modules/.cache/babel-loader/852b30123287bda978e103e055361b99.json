{"ast":null,"code":"var _jsxFileName = \"/Users/yan/Documents/proj/ML4GIS/client/src/annotateComponents/ShortcutsManager/index.js\";\nimport React, { useMemo } from \"react\";\nimport { HotKeys } from \"react-hotkeys\";\nexport const defaultHotkeys = [{\n  id: \"zoom_tool\",\n  description: \"Select the Zoom Tool\",\n  binding: \"z\"\n}, {\n  id: \"create_point\",\n  description: \"Create a point\"\n}, {\n  id: \"create_rectangle\",\n  description: \"Create a rectangle\",\n  binding: \"b\"\n}, {\n  id: \"pan_tool\",\n  description: \"Select the Pan Tool\",\n  binding: \"m\"\n}, {\n  id: \"create_polygon\",\n  description: \"Create a Polygon\",\n  binding: \"p\"\n}, {\n  id: \"create_pixel\",\n  description: \"Create a Pixel Mask\"\n}, {\n  id: \"save_and_previous_sample\",\n  description: \"Save and go to previous sample\",\n  binding: \"ArrowLeft\"\n}, {\n  id: \"save_and_next_sample\",\n  description: \"Save and go to next sample\",\n  binding: \"ArrowRight\"\n}, {\n  id: \"save_and_exit_sample\",\n  description: \"Save and exit current sample\"\n}, {\n  id: \"exit_sample\",\n  description: \"Exit sample without saving\"\n}, {\n  id: \"delete_region\",\n  description: \"Delete selected region\",\n  binding: \"d\"\n}, {\n  id: \"undo\",\n  description: \"Undo latest change\",\n  binding: \"Ctrl+z\"\n}];\nexport const defaultKeyMap = {};\n\nfor (var _i = 0, _defaultHotkeys = defaultHotkeys; _i < _defaultHotkeys.length; _i++) {\n  const _defaultHotkeys$_i = _defaultHotkeys[_i],\n        id = _defaultHotkeys$_i.id,\n        binding = _defaultHotkeys$_i.binding;\n  defaultKeyMap[id] = binding;\n}\n\nexport const useDispatchHotkeyHandlers = ({\n  dispatch\n}) => {\n  const handlers = useMemo(() => ({\n    // select_tool: () => {\n    //   dispatch({\n    //     type: \"SELECT_TOOL\",\n    //     selectedTool: \"select\",\n    //   })\n    // },\n    zoom_tool: () => {\n      dispatch({\n        type: \"SELECT_TOOL\",\n        selectedTool: \"zoom\"\n      });\n    },\n    create_point: () => {\n      dispatch({\n        type: \"SELECT_TOOL\",\n        selectedTool: \"create-point\"\n      });\n    },\n    create_bounding_box: () => {\n      dispatch({\n        type: \"SELECT_TOOL\",\n        selectedTool: \"create-box\"\n      });\n    },\n    pan_tool: () => {\n      dispatch({\n        type: \"SELECT_TOOL\",\n        selectedTool: \"pan\"\n      });\n    },\n    create_polygon: () => {\n      dispatch({\n        type: \"SELECT_TOOL\",\n        selectedTool: \"create-polygon\"\n      });\n    },\n    create_pixel: () => {\n      dispatch({\n        type: \"SELECT_TOOL\",\n        selectedTool: \"create-pixel\"\n      });\n    },\n    save_and_previous_sample: () => {\n      dispatch({\n        type: \"HEADER_BUTTON_CLICKED\",\n        buttonName: \"Prev\"\n      });\n    },\n    save_and_next_sample: () => {\n      dispatch({\n        type: \"HEADER_BUTTON_CLICKED\",\n        buttonName: \"Next\"\n      });\n    },\n    save_and_exit_sample: () => {\n      dispatch({\n        type: \"HEADER_BUTTON_CLICKED\",\n        buttonName: \"Save\"\n      });\n    },\n    delete_region: () => {\n      dispatch({\n        type: \"DELETE_SELECTED_REGION\"\n      });\n    },\n    undo: () => {\n      dispatch({\n        type: \"RESTORE_HISTORY\"\n      });\n    } // TODO\n    // exit_sample: () => {\n    //   dispatch({\n    //     type: \"\",\n    //   })\n    // }\n\n  }), [dispatch]);\n  return handlers;\n};\nexport default (({\n  children,\n  dispatch\n}) => {\n  const handlers = useDispatchHotkeyHandlers({\n    dispatch\n  });\n  return /*#__PURE__*/React.createElement(HotKeys, {\n    allowChanges: true,\n    handlers: handlers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 5\n    }\n  }, children);\n});","map":{"version":3,"sources":["/Users/yan/Documents/proj/ML4GIS/client/src/annotateComponents/ShortcutsManager/index.js"],"names":["React","useMemo","HotKeys","defaultHotkeys","id","description","binding","defaultKeyMap","useDispatchHotkeyHandlers","dispatch","handlers","zoom_tool","type","selectedTool","create_point","create_bounding_box","pan_tool","create_polygon","create_pixel","save_and_previous_sample","buttonName","save_and_next_sample","save_and_exit_sample","delete_region","undo","children"],"mappings":"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","sourcesContent":["import React, { useMemo } from \"react\"\nimport { HotKeys } from \"react-hotkeys\"\n\nexport const defaultHotkeys = [\n  {\n    id: \"zoom_tool\",\n    description: \"Select the Zoom Tool\",\n    binding: \"z\",\n  },\n  {\n    id: \"create_point\",\n    description: \"Create a point\",\n  },\n  {\n    id: \"create_rectangle\",\n    description: \"Create a rectangle\",\n    binding: \"b\",\n  },\n  {\n    id: \"pan_tool\",\n    description: \"Select the Pan Tool\",\n    binding: \"m\",\n  },\n  {\n    id: \"create_polygon\",\n    description: \"Create a Polygon\",\n    binding: \"p\",\n  },\n  {\n    id: \"create_pixel\",\n    description: \"Create a Pixel Mask\",\n  },\n  {\n    id: \"save_and_previous_sample\",\n    description: \"Save and go to previous sample\",\n    binding: \"ArrowLeft\",\n  },\n  {\n    id: \"save_and_next_sample\",\n    description: \"Save and go to next sample\",\n    binding: \"ArrowRight\",\n  },\n  {\n    id: \"save_and_exit_sample\",\n    description: \"Save and exit current sample\",\n  },\n  {\n    id: \"exit_sample\",\n    description: \"Exit sample without saving\",\n  },\n  {\n    id: \"delete_region\",\n    description: \"Delete selected region\",\n    binding: \"d\",\n  },\n  {\n    id: \"undo\",\n    description: \"Undo latest change\",\n    binding: \"Ctrl+z\",\n  },\n]\nexport const defaultKeyMap = {}\nfor (const { id, binding } of defaultHotkeys) defaultKeyMap[id] = binding\n\nexport const useDispatchHotkeyHandlers = ({ dispatch }) => {\n  const handlers = useMemo(\n    () => ({\n      // select_tool: () => {\n      //   dispatch({\n      //     type: \"SELECT_TOOL\",\n      //     selectedTool: \"select\",\n      //   })\n      // },\n      zoom_tool: () => {\n        dispatch({\n          type: \"SELECT_TOOL\",\n          selectedTool: \"zoom\",\n        })\n      },\n      create_point: () => {\n        dispatch({\n          type: \"SELECT_TOOL\",\n          selectedTool: \"create-point\",\n        })\n      },\n      create_bounding_box: () => {\n        dispatch({\n          type: \"SELECT_TOOL\",\n          selectedTool: \"create-box\",\n        })\n      },\n      pan_tool: () => {\n        dispatch({\n          type: \"SELECT_TOOL\",\n          selectedTool: \"pan\",\n        })\n      },\n      create_polygon: () => {\n        dispatch({\n          type: \"SELECT_TOOL\",\n          selectedTool: \"create-polygon\",\n        })\n      },\n      create_pixel: () => {\n        dispatch({\n          type: \"SELECT_TOOL\",\n          selectedTool: \"create-pixel\",\n        })\n      },\n      save_and_previous_sample: () => {\n        dispatch({\n          type: \"HEADER_BUTTON_CLICKED\",\n          buttonName: \"Prev\",\n        })\n      },\n      save_and_next_sample: () => {\n        dispatch({\n          type: \"HEADER_BUTTON_CLICKED\",\n          buttonName: \"Next\",\n        })\n      },\n      save_and_exit_sample: () => {\n        dispatch({\n          type: \"HEADER_BUTTON_CLICKED\",\n          buttonName: \"Save\",\n        })\n      },\n      delete_region: () => {\n        dispatch({\n          type: \"DELETE_SELECTED_REGION\",\n        })\n      },\n      undo: () => {\n        dispatch({\n          type: \"RESTORE_HISTORY\",\n        })\n      },\n      // TODO\n      // exit_sample: () => {\n      //   dispatch({\n      //     type: \"\",\n      //   })\n      // }\n    }),\n    [dispatch]\n  )\n  return handlers\n}\n\nexport default ({ children, dispatch }) => {\n  const handlers = useDispatchHotkeyHandlers({ dispatch })\n  return (\n    <HotKeys allowChanges handlers={handlers}>\n      {children}\n    </HotKeys>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}