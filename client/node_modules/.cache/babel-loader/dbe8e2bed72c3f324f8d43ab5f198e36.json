{"ast":null,"code":"","map":{"version":3,"sources":[],"names":[],"mappings":"","sourcesContent":["\r\nimport type {\r\n  Region,\r\n  Polygon,\r\n  Polygon1,\r\n  Rectangle,\r\n  Point,\r\n    Circle,\r\n} from \"../ImageCanvas/regionTools.js\"\r\n\r\nexport type ToolEnum =\r\n  | \"pan\"\r\n  | \"zoom\"\r\n  | \"create-point\"\r\n  | \"create-box\"\r\n  | \"create-polygon\"\r\n  | \"create-polygon1\"\r\n|\"create-circle\"\r\n\r\nexport type Image = {\r\n  src: string,\r\n  thumbnailSrc?: string,\r\n  name: string,\r\n  regions?: Array<Region>,\r\n  pixelSize?: { w: number, h: number },\r\n  realSize?: { w: number, h: number, unitName: string },\r\n}\r\n\r\nexport type Mode =\r\n  | null\r\n  | {| mode: \"DRAW_POLYGON\", regionId: string |}\r\n  | {| mode: \"MOVE_POLYGON_POINT\", regionId: string, pointIndex: number |}\r\n| {| mode: \"DRAW_POLYGON1\", regionId: string |}\r\n| {| mode: \"MOVE_POLYGON1_POINT\", regionId: string, pointIndex: number |}\r\n  | {|\r\n      mode: \"RESIZE_BOX\",\r\n      regionId: string,\r\n      freedom: [number, number],\r\n      original: { x: number, y: number, w: number, h: number },\r\n      isNew?: boolean,\r\n    |}\r\n| {|\r\n  mode: \"RESIZE_CIRCLE\",\r\n      editLabelEditorAfter?: boolean,\r\n      regionId: string,\r\n      original: { x: number, y: number, r: number }\r\n|}\r\n  | {| mode: \"MOVE_REGION\" |}\r\n\r\nexport type MainLayoutStateBase = {|\r\n  mouseDownAt?: ?{ x: number, y: number },\r\n  minRegionSize?: number,\r\n  selectedTool: ToolEnum,\r\n  mode: Mode,\r\n  regionTagList?: Array<string>,\r\n  enabledTools: Array<string>,\r\n  history: Array<{ time: Date, state: MainLayoutState, name: string }>,\r\n|}\r\n\r\nexport type MainLayoutState = {|\r\n  ...MainLayoutStateBase,\r\n  annotationType: \"image\",\r\n  selectedImage?: string,\r\n  images: Array<Image>,\r\n|}\r\n\r\nexport type Action =\r\n  | {| type: \"@@INIT\" |}\r\n  | {| type: \"SELECT_IMAGE\", image: Image, imageIndex: number |}\r\n  | {|\r\n      type: \"IMAGE_LOADED\",\r\n      metadata: {\r\n        naturalWidth: number,\r\n        naturalHeight: number,\r\n      },\r\n    |}\r\n  | {| type: \"CHANGE_REGION\", region: Region |}\r\n  | {| type: \"RESTORE_HISTORY\" |}\r\n  | {| type: \"CLOSE_POLYGON\", polygon: Polygon |}\r\n| {| type: \"CLOSE_POLYGON1\", polygon1: Polygon1 |}\r\n\r\n  | {| type: \"SELECT_REGION\", region: Region |}\r\n  | {| type: \"BEGIN_MOVE_POINT\", point: Point |}\r\n  | {| type: \"BEGIN_BOX_TRANSFORM\", rectangle: Rectangle, directions: [number, number] |}\r\n  | {| type: \"BEGIN_MOVE_POLYGON_POINT\", polygon: Polygon, pointIndex: number |}\r\n| {| type: \"BEGIN_MOVE_POLYGON1_POINT\", polygon1: Polygon1, point1Index: number |}\r\n  | {|\r\n      type: \"ADD_POLYGON_POINT\",\r\n      polygon: Polygon,\r\n      point: { x: number, y: number },\r\n      pointIndex: number,\r\n    |}\r\n| {|\r\n  type: \"ADD_POLYGON1_POINT\",\r\n      polygon1: Polygon1,\r\n      point: { x: number, y: number },\r\n      holes: { x: number, y: number },\r\n      point1Index: number,\r\n|}\r\n  | {| type: \"MOUSE_MOVE\", x: number, y: number |}\r\n  | {| type: \"MOUSE_DOWN\", x: number, y: number |}\r\n  | {| type: \"MOUSE_UP\", x: number, y: number |}\r\n  | {| type: \"CHANGE_REGION\", region: Region |}\r\n  | {| type: \"OPEN_REGION_EDITOR\", region: Region |}\r\n  | {| type: \"CLOSE_REGION_EDITOR\", region: Region |}\r\n  | {| type: \"DELETE_REGION\", region: Region |}\r\n  | {| type: \"DELETE_SELECTED_REGION\" |}\r\n  | {| type: \"HEADER_BUTTON_CLICKED\", buttonName: string |}\r\n  | {| type: \"SELECT_TOOL\", selectedTool: ToolEnum |}\r\n  | {| type: \"CANCEL\" |}\r\n| {| type: \"BEGIN_CIRCLE_TRANSFORM\", region: Circle, directions: string |}\r\n"]},"metadata":{},"sourceType":"module"}