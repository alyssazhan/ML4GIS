{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\pccis\\\\Desktop\\\\ML4GIS-develop\\\\client\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\pccis\\\\Desktop\\\\ML4GIS-develop\\\\client\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\pccis\\\\Desktop\\\\ML4GIS-develop\\\\client\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\pccis\\\\Desktop\\\\ML4GIS-develop\\\\client\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\pccis\\\\Desktop\\\\ML4GIS-develop\\\\client\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import AnnotationTool from\"../annotateComponents/main_Annotate\";import Button from'react-bootstrap/Button';var env=process.env.NODE_ENV;var config=require(\"../../../config.json\");var SubmitHIT=/*#__PURE__*/function(_Component){_inherits(SubmitHIT,_Component);var _super=_createSuper(SubmitHIT);function SubmitHIT(props){var _this;_classCallCheck(this,SubmitHIT);_this=_super.call(this,props);_this.state={error:null,isLoaded:false,EnabledTools:null,AllowComments:null,Tags:null,imgData:[{src:\"https://geodata.lib.utexas.edu/assets/blac_featured_image_map-dca4cbca4e07010e5bd201ad8fab1cc0aa9abd24a8842f90e3c1eef1834e8498.jpg\",name:\"Image 1\",regions:[]},{src:\"https://geodata.lib.utexas.edu/assets/utlmaps_featured_image_map-c07ae2551145ff2e5f5fa3c71baa345d9d674a33b08f422449203cf9ed47e0d1.jpg\",name:\"Image 2\",regions:[]},{src:\"https://1igc0ojossa412h1e3ek8d1w-wpengine.netdna-ssl.com/wp-content/uploads/2018/03/TMSELEMWORLD.M.jpg\",name:\"Image 3\",regions:[]}]};_this.props=props;_this.submitTask=_this.submitTask.bind(_assertThisInitialized(_this));_this.getSubmissionUrl=_this.getSubmissionUrl.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.componentDidMount=_this.componentDidMount(_assertThisInitialized(_this));return _this;}_createClass(SubmitHIT,[{key:\"getTools\",value:function getTools(res){console.log(\"get tool:\",res.Tools['enenabledTools']);}//get data from api\n},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;function getEnabledTools(data){var enabledTools=data[\"enabledTools\"];var res=[];for(var i=0;i<enabledTools.length;i++){if(enabledTools[i][\"create point\"]==true){res.push(\"create-point\");}else if(enabledTools[i][\"create rectangle\"]==true){res.push(\"create-rectangle\");}else if(enabledTools[i][\"create polygon\"]==true){res.push(\"create-polygon\");}else if(enabledTools[i][\"create polygon1\"]==true){res.push(\"create-polygon1\");}else if(enabledTools[i][\"create ellipse\"]==true){res.push(\"create-circle\");}}return res;}fetch(\"/api\",{mode:'cors'}).then(function(res){return res.json();}).then(function(result){var enabledTools=getEnabledTools(result[\"setup\"]);_this2.setState({isLoaded:true,EnabledTools:enabledTools,AllowComments:result[\"setup\"][\"allow-comments\"],Tags:result[\"setup\"][\"tags\"]});console.log(\"res is: \",result);},// Note: it's important to handle errors here\n// instead of a catch() block so that we don't swallow\n// exceptions from actual bugs in components.\nfunction(error){_this2.setState({isLoaded:true,error:error});});}},{key:\"parseParameters\",value:function parseParameters(url){var params={'assignmentId':null,'hitId':null,'workerId':null,'turkSubmitTo':null};var queryString=url.split('?')[1];if(queryString){var queryPieces=queryString.split('&');for(var i=0;i<queryPieces.length;++i){var pieces=queryPieces[i].split('=');var paramName=pieces[0];var paramValue=pieces[1];if(paramName in params){params[paramName]=paramValue;}}}return params;}},{key:\"handleSubmit\",value:function handleSubmit(e){e.preventDefault();var input=document.getElementById('submitButton');input.setAttribute('value',JSON.stringify(this.state.imgData));console.log(input);var form=document.getElementById('submitForm');HTMLFormElement.prototype.submit.call(form);}},{key:\"submitTask\",value:function submitTask(e){// e.preventDefault();\nconsole.log(\"POSTing data\");axios.post(\"\".concat(this.getSubmissionUrl()),{}).then(function(response){console.log(response);}).catch(function(error){console.log(error);});}},{key:\"getSubmissionUrl\",value:function getSubmissionUrl(){var mturkParams=this.parseParameters(window.location.href);var assignmentID=mturkParams['assignmentId'];var url=config[\"submit\"][env]+\"/?assignmentId=\"+assignmentID;console.log(url);return url;}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,error=_this$state.error,isLoaded=_this$state.isLoaded,EnabledTools=_this$state.EnabledTools,AllowComments=_this$state.AllowComments,Tags=_this$state.Tags,imgData=_this$state.imgData;console.log(\"data is:\",this.state);if(error){return/*#__PURE__*/React.createElement(\"div\",null,\"Error: \",error.message);}else if(!isLoaded){return/*#__PURE__*/React.createElement(\"div\",null,\"Loading...\");}else{return/*#__PURE__*/React.createElement(\"div\",{id:\"Submit\"},/*#__PURE__*/React.createElement(\"form\",{id:\"submitForm\",type:\"submit\",method:\"POST\",action:this.getSubmissionUrl()},/*#__PURE__*/React.createElement(AnnotationTool,{name:\"AnnotationTool\",type:\"submit\",ref:function ref(value){_this3.value=value;},images:imgData,enabledTools:EnabledTools,regionTagList:Tags,allowComments:AllowComments,onExit:function onExit(output){_this3.setState({imgData:output.images});console.log(JSON.stringify(output.images));}}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{variant:\"outline-dark\",size:\"lg\",block:true,name:\"Annotation\",type:\"submit\",id:\"submitButton\",value:JSON.stringify(this.state.imgData),ref:function ref(value){_this3.value=value;}},\"Complete the HIT\"))));}}}]);return SubmitHIT;}(Component);export{SubmitHIT as default};","map":{"version":3,"sources":["C:/Users/pccis/Desktop/ML4GIS-develop/client/src/pages/Home/SubmitHIT/main_SubmitHIT.js"],"names":["React","Component","axios","AnnotationTool","Button","env","process","NODE_ENV","config","require","SubmitHIT","props","state","error","isLoaded","EnabledTools","AllowComments","Tags","imgData","src","name","regions","submitTask","bind","getSubmissionUrl","handleSubmit","componentDidMount","res","console","log","Tools","getEnabledTools","data","enabledTools","i","length","push","fetch","mode","then","json","result","setState","url","params","queryString","split","queryPieces","pieces","paramName","paramValue","e","preventDefault","input","document","getElementById","setAttribute","JSON","stringify","form","HTMLFormElement","prototype","submit","call","post","response","catch","mturkParams","parseParameters","window","location","href","assignmentID","message","value","output","images"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport AnnotationTool from \"../annotateComponents/main_Annotate\";\nimport Button from 'react-bootstrap/Button';\n\nvar env = process.env.NODE_ENV;\nvar config = require(\"../../../config.json\");\n\n\nexport default class SubmitHIT extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            EnabledTools:null,\n            AllowComments:null,\n            Tags:null,\n            imgData: [\n                {\n                    src:\"https://geodata.lib.utexas.edu/assets/blac_featured_image_map-dca4cbca4e07010e5bd201ad8fab1cc0aa9abd24a8842f90e3c1eef1834e8498.jpg\",\n                    name: \"Image 1\",\n                    regions: []\n                },\n                {\n                    src:\"https://geodata.lib.utexas.edu/assets/utlmaps_featured_image_map-c07ae2551145ff2e5f5fa3c71baa345d9d674a33b08f422449203cf9ed47e0d1.jpg\",\n                    name: \"Image 2\",\n                    regions: []\n                },\n                {\n                    src:\"https://1igc0ojossa412h1e3ek8d1w-wpengine.netdna-ssl.com/wp-content/uploads/2018/03/TMSELEMWORLD.M.jpg\",\n                    name: \"Image 3\",\n                    regions: []\n                }\n            ],\n        }\n        this.props = props;\n        this.submitTask = this.submitTask.bind(this);\n        this.getSubmissionUrl = this.getSubmissionUrl.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.componentDidMount=this.componentDidMount(this);\n\n    }\n    getTools(res){\n        console.log(\"get tool:\",res.Tools['enenabledTools'])\n\n    }\n//get data from api\n    componentDidMount() {\n        function getEnabledTools(data) {\n            const enabledTools =data[\"enabledTools\"]\n            var res=[]\n            for (var i = 0; i < enabledTools.length; i++) {\n                if (enabledTools[i][\"create point\"]==true){\n                    res.push(\"create-point\")\n                }\n                else if (enabledTools[i][\"create rectangle\"]==true){\n                    res.push(\"create-rectangle\")\n                }\n                else if(enabledTools[i][\"create polygon\"]==true){\n                    res.push(\"create-polygon\")\n                }\n                else if(enabledTools[i][\"create polygon1\"]==true){\n                    res.push(\"create-polygon1\")\n                }\n                else if(enabledTools[i][\"create ellipse\"]==true){\n                    res.push(\"create-circle\")\n                }\n            }\n            return res\n\n        }\n\n        fetch(\"/api\",{ mode: 'cors'})\n            .then(res => res.json())\n            .then(\n                (result) => {\n                    const enabledTools=getEnabledTools(result[\"setup\"])\n                    this.setState({\n                        isLoaded: true,\n                        EnabledTools:enabledTools,\n                        AllowComments:result[\"setup\"][\"allow-comments\"],\n                        Tags:result[\"setup\"][\"tags\"]\n                    });\n                    console.log(\"res is: \", result)\n                },\n                // Note: it's important to handle errors here\n                // instead of a catch() block so that we don't swallow\n                // exceptions from actual bugs in components.\n                (error) => {\n                    this.setState({\n                        isLoaded: true,\n                        error\n                    });\n                }\n            )\n    }\n\n    parseParameters(url){\n        var params = {\n            'assignmentId' : null,\n            'hitId' : null,\n            'workerId' : null,\n            'turkSubmitTo' : null\n        };\n\n        var queryString = url.split('?')[1];\n\n        if (queryString){\n            var queryPieces = queryString.split('&');\n            for (var i = 0; i < queryPieces.length; ++i){\n                var pieces = queryPieces[i].split('=');\n                var paramName = pieces[0];\n                var paramValue = pieces[1];\n                if(paramName in params){\n                    params[paramName] = paramValue;\n                }\n            }\n        }\n\n        return params;\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n        const input = document.getElementById('submitButton');\n        input.setAttribute('value', JSON.stringify(this.state.imgData));\n        console.log(input);\n        const form = document.getElementById('submitForm');\n        HTMLFormElement.prototype.submit.call(form);\n\n    }\n\n    submitTask(e) {\n        // e.preventDefault();\n        console.log(\"POSTing data\");\n        axios\n            .post(`${this.getSubmissionUrl()}`, {})\n            .then(function(response) {\n                console.log(response);\n            })\n            .catch(function(error) {\n                console.log(error);\n            });\n    }\n\n    getSubmissionUrl() {\n        let mturkParams = this.parseParameters(window.location.href);\n        const assignmentID =  mturkParams['assignmentId'];\n        const url = config[\"submit\"][env] + \"/?assignmentId=\" + assignmentID;\n        console.log(url);\n        return url;\n    }\n\n    render() {\n        const { error, isLoaded, EnabledTools, AllowComments, Tags, imgData} = this.state;\n        console.log(\"data is:\", this.state)\n        if (error) {\n            return <div>Error: {error.message}</div>;\n        } else if (!isLoaded) {\n            return <div>Loading...</div>;\n        } else {\n            return (\n                <div id=\"Submit\">\n\n                    <form\n                        id=\"submitForm\"\n                        type=\"submit\"\n                        method=\"POST\"\n                        action={this.getSubmissionUrl()}\n                    >\n                        <AnnotationTool\n                            name=\"AnnotationTool\"\n                            type=\"submit\"\n                            ref={value => {\n                                this.value = value;\n                            }}\n                            images={imgData}\n                            enabledTools={EnabledTools}\n                            regionTagList={Tags}\n                            allowComments={AllowComments}\n                            onExit={output => {\n                                this.setState({imgData: output.images});\n                                console.log(JSON.stringify(output.images))\n                            }}\n\n                        />\n                        <div>\n                            <Button variant=\"outline-dark\" size=\"lg\" block\n                                    name=\"Annotation\"\n                                    type=\"submit\"\n                                    id=\"submitButton\"\n                                    value={JSON.stringify(this.state.imgData)}\n                                    ref={value => {\n                                        this.value = value;\n                                    }}\n                            >Complete the HIT</Button>\n                        </div>\n                    </form>\n                </div>\n            );\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}